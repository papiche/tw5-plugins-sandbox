!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Swiffy={})}(this,function(e){"use strict";e.swiffyslider={version:"1.5.3",init(e=document.body){for(var t of e.querySelectorAll(".swiffy-slider"))this.initSlider(t)},initSlider(t){for(var i of t.querySelectorAll(".slider-nav")){let e=i.classList.contains("slider-nav-next");i.addEventListener("click",()=>this.slide(t,e),{passive:!0})}for(var e of t.querySelectorAll(".slider-indicators"))e.addEventListener("click",()=>this.slideToByIndicator()),this.onSlideEnd(t,()=>this.handleIndicators(t),60);var s;t.classList.contains("slider-nav-autoplay")&&(s=t.getAttribute("data-slider-nav-autoplay-interval")?t.getAttribute("data-slider-nav-autoplay-interval"):2500,this.autoPlay(t,s,t.classList.contains("slider-nav-autopause"))),["slider-nav-autohide","slider-nav-animation"].some(e=>t.classList.contains(e))&&(s=t.getAttribute("data-slider-nav-animation-threshold")?t.getAttribute("data-slider-nav-animation-threshold"):.3,this.setVisibleSlides(t,s))},setVisibleSlides(t,e=.3){let i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("slide-visible"):e.target.classList.remove("slide-visible")}),t.querySelector(".slider-container>*:first-child").classList.contains("slide-visible")?t.classList.add("slider-item-first-visible"):t.classList.remove("slider-item-first-visible"),t.querySelector(".slider-container>*:last-child").classList.contains("slide-visible")?t.classList.add("slider-item-last-visible"):t.classList.remove("slider-item-last-visible")},{root:t.querySelector(".slider-container"),threshold:e});for(var s of t.querySelectorAll(".slider-container>*"))i.observe(s)},slide(e,t=!0){const i=e.querySelector(".slider-container");var s=e.classList.contains("slider-nav-page"),l=e.classList.contains("slider-nav-noloop"),e=e.classList.contains("slider-nav-nodelay"),r=i.children,o=parseInt(window.getComputedStyle(i).columnGap),r=r[0].offsetWidth+o;let n=t?i.scrollLeft+r:i.scrollLeft-r;s&&(n=t?i.scrollLeft+i.offsetWidth:i.scrollLeft-i.offsetWidth),i.scrollLeft<1&&!t&&!l&&(n=i.scrollWidth-i.offsetWidth),i.scrollLeft>=i.scrollWidth-i.offsetWidth&&t&&!l&&(n=0),i.scroll({left:n,behavior:e?"auto":"smooth"})},slideToByIndicator(){const e=window.event.target;var t=Array.from(e.parentElement.children).indexOf(e),i=e.parentElement.children.length;const s=e.closest(".swiffy-slider");var l=s.querySelector(".slider-container").children.length;this.slideTo(s,l/i*t)},slideTo(e,t){const i=e.querySelector(".slider-container");var s=parseInt(window.getComputedStyle(i).columnGap),s=i.children[0].offsetWidth+s,e=e.classList.contains("slider-nav-nodelay");i.scroll({left:s*t,behavior:e?"auto":"smooth"})},onSlideEnd(e,t,i=125){let s;e.querySelector(".slider-container").addEventListener("scroll",function(){window.clearTimeout(s),s=setTimeout(t,i)},{capture:!1,passive:!0})},autoPlay(t,e,i){e=e<750?750:e;let s=setInterval(()=>this.slide(t),e);const l=()=>this.autoPlay(t,e,i);return i&&(["mouseover","touchstart"].forEach(function(e){t.addEventListener(e,function(){window.clearTimeout(s)},{once:!0,passive:!0})}),["mouseout","touchend"].forEach(function(e){t.addEventListener(e,function(){l()},{once:!0,passive:!0})})),s},handleIndicators(e){var t,i=e.querySelector(".slider-container"),s=i.scrollWidth-i.offsetWidth,l=i.scrollLeft/s;for(t of e.querySelectorAll(".slider-indicators")){let e=t.children;var r,o=Math.abs(Math.round((e.length-1)*l));for(r of e)r.classList.remove("active");e[o].classList.add("active")}}},Object.defineProperty(e,"__esModule",{value:!0})});
